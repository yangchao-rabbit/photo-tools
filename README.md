# 照片工具 (Photo Tools)

一个基于 Wails 的跨平台桌面应用，提供照片拷贝和HDR合并功能。

## 功能特性

### 🖼️ 照片拷贝功能
- **智能文件识别**: 支持多种图片格式（JPG, PNG, GIF, BMP, TIFF, WebP, SVG, ICO, HEIC, RAW等）
- **元数据拷贝**: 可选择是否拷贝照片的EXIF等元数据
- **格式拆分存储**: 按文件格式自动分类存储
- **时间区间过滤**: 根据拍摄时间范围筛选照片
- **目录结构保持**: 可选择保持原始目录结构
- **实时进度监控**: 显示拷贝进度和结果统计

### 🌟 HDR合并功能
- **多曝光合并**: 支持多张不同曝光度的照片合并
- **曝光步进控制**: 可调节曝光步进值（EV）
- **批量处理**: 支持批量HDR合并操作
- **高质量输出**: 生成高质量HDR图像

### 🎨 现代化界面
- **左侧固定导航**: 类似Tiny RDM的侧边栏设计
- **功能模块化**: 清晰的功能分离和组件化设计
- **响应式布局**: 适配不同屏幕尺寸
- **设置面板**: 统一的应用设置管理

## 技术栈

- **后端**: Go + Wails
- **前端**: React + TypeScript + Ant Design
- **构建工具**: Vite

## 项目结构

```
photo-copier/
├── main.go                    # 应用入口
├── app.go                     # 主应用结构
├── backend/
│   └── copy.go               # 文件拷贝核心逻辑
├── frontend/
│   ├── src/
│   │   ├── components/       # 组件目录
│   │   │   ├── Sidebar.tsx   # 左侧导航栏
│   │   │   ├── PhotoCopy.tsx # 照片拷贝组件
│   │   │   ├── HdrMerge.tsx  # HDR合并组件
│   │   │   └── Settings.tsx  # 设置组件
│   │   ├── App.tsx           # 主应用组件
│   │   ├── App.css           # 样式文件
│   │   └── main.tsx          # 入口文件
│   └── ...
└── wails.json                # Wails 配置文件
```

## 安装和运行

### 环境要求
- Go 1.18+
- Node.js 16+
- Wails CLI

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd photo-copier
   ```

2. **安装 Wails CLI**
   ```bash
   go install github.com/wailsapp/wails/v2/cmd/wails@latest
   ```

3. **安装前端依赖**
   ```bash
   cd frontend
   npm install
   cd ..
   ```

4. **运行开发模式**
   ```bash
   wails dev
   ```

5. **构建应用**
   ```bash
   wails build
   ```

## 使用说明

### 照片拷贝功能

1. **选择源目录和目标目录**
   - 点击"选择源目录"和"选择目标目录"按钮
   - 选择包含图片文件的源目录和拷贝目标位置

2. **配置高级选项**
   - **拷贝元数据**: 选择是否保留照片的EXIF等元数据
   - **按格式拆分存储**: 按文件格式自动分类存储
   - **新建目录**: 在目标位置创建新目录
   - **时间区间过滤**: 设置照片拍摄时间范围

3. **设置拷贝选项**
   - 选择要拷贝的文件类型
   - 设置文件大小和数量限制
   - 选择是否保持目录结构

4. **开始拷贝**
   - 点击"开始拷贝"按钮
   - 监控拷贝进度和结果

### HDR合并功能

1. **选择HDR源目录和目标目录**
   - 选择包含多张不同曝光度照片的源目录
   - 选择HDR合并结果的目标目录

2. **设置HDR参数**
   - 调节曝光步进值（推荐1.0-2.0 EV）
   - 配置其他HDR相关参数

3. **开始HDR合并**
   - 点击"开始HDR合并"按钮
   - 等待合并完成

## 支持的文件格式

### 照片拷贝
- **常见格式**: JPG, JPEG, PNG, GIF, BMP, TIFF, TIF
- **现代格式**: WebP, SVG, ICO
- **专业格式**: HEIC, HEIF
- **RAW格式**: RAW, CR2, NEF, ARW, DNG, ORF, RW2

### HDR合并
- **输入格式**: JPG, PNG, TIFF, RAW
- **输出格式**: JPG, PNG, TIFF, HDR

## 开发说明

### 组件架构

- **Sidebar**: 左侧固定导航栏，包含功能切换和设置入口
- **PhotoCopy**: 照片拷贝功能的核心组件
- **HdrMerge**: HDR合并功能的核心组件
- **Settings**: 应用设置弹窗组件

### 状态管理

- 使用React Hooks进行状态管理
- 组件间通过props传递数据和回调函数
- 全局状态通过Context API管理（如需要）

### 样式设计

- 基于Ant Design组件库
- 自定义CSS样式优化界面
- 响应式设计适配不同屏幕

## 注意事项

1. **权限要求**: 确保应用有读取源目录和写入目标目录的权限
2. **磁盘空间**: 确保目标目录有足够的磁盘空间
3. **文件冲突**: 如果目标目录存在同名文件，会被覆盖
4. **性能考虑**: 大量文件拷贝时可能需要较长时间

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 更新日志

### v1.0.0
- 初始版本发布
- 实现照片拷贝功能
- 实现HDR合并功能框架
- 采用模块化组件设计
- 参考Tiny RDM的界面设计
